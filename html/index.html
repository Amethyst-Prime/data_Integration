<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 1.安装echarts后,引入js文件 -->
    <script src="../node_modules/echarts/dist/echarts.js"></script>
    <title>Echarts</title>
</head>
<body>
<!-- 定义显示图标的div -->
<!-- 为 ECharts 准备一个定义了宽高的 DOM -->
<div id="main_chart" style="width: 100%;height:400px;"></div>
<script type="text/javascript">
    /*const chartData={
        title:{},
        tooltip: {},
        legend: {},
        dataset:{source:[]},
        xAxis: {},
        yAxis: {},
        series: [],
    };*/
    const chartData={
       title: {
           text: '销量统计图'
       },
       tooltip: {},
       legend: {
       },
       dataset:{
           source:[
               ['product','夏天','冬天'],
               ['衬衫',5,10],
               ['羊毛衫',5,25],
               ['雪纺衫',16,34],
               ['裤子',10,20],
               ['高跟鞋',35,10],
               ['袜子',20,15]
           ]
       },
       xAxis: {type:'category'},
       yAxis: {},
       series: [{type:'bar'},{type:'bar'}]
   };
    window.onload=function (){
        let uid=233;
        getChartData(uid);
    }
    var getChartData=function(uid){
        const xhr=new XMLHttpRequest();
        const url='';
        let params='uid=' + uid;
        //向服务器发送请求
        xhr.open("get",url+params)
        xhr.send();
        xhr.onreadystatechange=function (){
            if(xhr.readyState==4){
                if (xhr.status==200){
                    console.log(xhr.responseText)
                    var result=xhr.responseText;
                    result=JSON.parse(result);
                }
            }
        }
    }

    /*

    */
    // 基于准备好的dom，初始化echarts实例
    const myChart = echarts.init(document.getElementById('main_chart'));

    // 指定图表的配置项和数据
    var option = chartData

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
    window.onresize = function() {
        myChart.resize();
    };
</script>
</body>
</html>
